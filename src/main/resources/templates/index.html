<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>HealthCare.com</title>
    <link rel="icon" th:href="@{/img/common/favicon.ico}" href="../static/img/common/favicon.ico" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet" />
    <link rel="stylesheet" th:href="@{/css/style.css}" />
    <style>
      body {
        margin: 0;
        font-family: 'Roboto', sans-serif;
        background: linear-gradient(to bottom right, #0f2027, #203a43, #2c5364);
        color: white;
        min-height: 100vh;
      }

      header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 1rem 2rem;
        background: #0d1b2a;
      }

      header a {
        color: white;
        text-decoration: none;
        font-weight: bold;
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .header-logo {
        width: 40px;
      }

      .page-title {
        text-align: center;
        font-size: 2.5rem;
        font-weight: bold;
        margin: 2rem 0;
        color: #76c9f8;
      }

      .grid-container {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 2rem;
        padding: 0 2rem;
      }

      .card {
        background: rgba(255, 255, 255, 0.05);
        border-radius: 12px;
        padding: 1.5rem;
        box-shadow: 0 8px 32px 0 rgba( 31, 38, 135, 0.37 );
        backdrop-filter: blur(8px);
        -webkit-backdrop-filter: blur(8px);
        border: 1px solid rgba(255, 255, 255, 0.18);
        color: white;
      }

      .card h3 {
        color: #76c9f8;
        font-weight: 700;
        font-size: 1rem;
        margin-bottom: 1rem;
        text-transform: uppercase;
      }

      .card ul {
        list-style: none;
        padding: 0;
      }

      .card ul li {
        margin: 0.75rem 0;
        font-size: 1.1rem;
        font-weight: 500;
      }

      .card ul li a {
        color: white;
        text-decoration: none;
      }

      .game-area {
        grid-column: span 2;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
      }

      canvas {
        border-radius: 10px;
        box-shadow: 0 0 20px rgba(0, 0, 0, 0.5);
      }

      footer {
        text-align: center;
        color: #76c9f8;
        padding: 2rem 0;
        font-size: 0.9rem;
      }
    </style>
  </head>
  <body>
    <header>
      <a href="#" th:href="@{/}">
        <img class="header-logo" th:src="@{/img/common/healthcare.png}" src="../static/img/common/healthcare.png" />
        <strong>HealthCare.com</strong>
      </a>
      <a href="#" th:href="@{/logout}">
  <img class="logout-icon" th:src="@{/img/common/exit.svg}" src="../static/img/common/exit.svg" />
  ãƒ­ã‚°ã‚¢ã‚¦ãƒˆ
</a>
    </header>

    <main>
      <h1 id="dashboard-title" class="page-title"></h1>
      <div class="grid-container">
        <div class="card">
          <h3>General Functions</h3>
          <ul>
            <li><a href="#" th:href="@{/task}">Task Management</a></li>
            <li><a href="#" th:href="@{/avgPace}">Running Pace Calculation</a></li>
            <li><a href="#">Chat</a></li>
          </ul>
        </div>

        <div class="card">
          <h3>Chat</h3>
          <p style="font-size: 2rem; font-weight: bold;">Chat</p>
        </div>
      </div>

      <!-- ã‚²ãƒ¼ãƒ ã‚»ã‚¯ã‚·ãƒ§ãƒ³ -->
<section class="game-section">
  <div class="game-container">
    <canvas id="gameCanvas" width="600" height="200"></canvas>
  </div>
</section>
    </main>

    <footer>
      &copy; 20xx HealthCare.com
    </footer>

    <script>
      function updateDateTime() {
        const now = new Date();
        const options = {
          year: 'numeric',
          month: '2-digit',
          day: '2-digit',
          hour: '2-digit',
          minute: '2-digit',
          second: '2-digit',
        };
        const formatted = now.toLocaleString('ja-JP', options);
        document.getElementById('dashboard-title').textContent = `ðŸ—“ ${formatted}`;
      }
      updateDateTime();
      setInterval(updateDateTime, 1000);
    </script>

    <script>
      const canvas = document.getElementById("gameCanvas");
      const ctx = canvas.getContext("2d");
      const runnerImg = new Image();
      runnerImg.src = "/img/common/runner.gif";
      const obstacleImg = new Image();
      obstacleImg.src = "/img/common/obstacle.png";
      const bgImg = new Image();
      bgImg.src = "/img/common/background.png";

      let isRunning = true;
      let score = 0;
      let highScore = 0;
      let player = { x: 50, y: 150, width: 40, height: 40, vy: 0, jump: false };
      const gravity = 1;
      const ground = 150;
      let obstacle = { x: 600, y: 150, width: 40, height: 40, speed: 4 };

      document.addEventListener("keydown", (e) => {
        if (e.code === "Space" && !player.jump && isRunning) {
          player.vy = -15;
          player.jump = true;
        }
        if (e.code === "KeyR" && !isRunning) {
          restartGame();
        }
      });

      function update() {
        if (!isRunning) return;
        player.y += player.vy;
        player.vy += gravity;
        if (player.y >= ground) {
          player.y = ground;
          player.jump = false;
        }
        obstacle.x -= obstacle.speed;
        if (obstacle.x < -obstacle.width) {
          obstacle.x = 600 + Math.random() * 100;
          score += 10;
          if (score > highScore) highScore = score;
        }
        if (
          player.x < obstacle.x + obstacle.width &&
          player.x + player.width > obstacle.x &&
          player.y < obstacle.y + obstacle.height &&
          player.y + player.height > obstacle.y
        ) {
          isRunning = false;
        }
      }

      function draw() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        ctx.drawImage(bgImg, 0, 0, canvas.width, canvas.height);
        ctx.drawImage(runnerImg, player.x, player.y, player.width, player.height);
        ctx.drawImage(obstacleImg, obstacle.x, obstacle.y, obstacle.width, obstacle.height);
        ctx.fillStyle = "#ffffff";
        ctx.font = "16px Roboto";
        ctx.fillText("Score: " + score, 10, 20);
        ctx.fillText("High Score: " + highScore, 10, 40);
        if (!isRunning) {
          ctx.fillStyle = "rgba(0,0,0,0.6)";
          ctx.fillRect(0, 0, canvas.width, canvas.height);
          ctx.fillStyle = "#fff";
          ctx.font = "24px Roboto";
          ctx.fillText("Game Over", 230, 100);
          ctx.font = "16px Roboto";
          ctx.fillText("Press R to Restart", 220, 130);
        }
      }

      function gameLoop() {
        update();
        draw();
        requestAnimationFrame(gameLoop);
      }

      function restartGame() {
        player.y = 150;
        player.vy = 0;
        obstacle.x = 600;
        score = 0;
        isRunning = true;
      }

      bgImg.onload = () => {
        gameLoop();
      };
    </script>
  </body>
</html>
